# Лабораторная самостоятельная работа №1 #
## 1.Выделить основные абстракции (сущность, атрибут, связь) в предметной области и определить их параметры. ##
### Сущности: ###
* User
* Profile
* Post
* Image
* Tag
* Comment
* Like
* Followers
* FollowRequest
### Атрибуты сущностей и связи между ними: ###
Каждая сущность будет содержать автоинкрементный id для поддержания уникальности записей внутри них и даты создания(кроме Profile) и изменения записей.
#### User ####
Эта сущность будет содержать данные необходимые для авторизации пользователя(пароль, логин).
#### Profile ####
Общая информация о пользователе(имя, фамилия, возраст и т.д.). Будет ссылаться на записи из User.
#### Post ####
Через эту сущность будут описываться "посты". Она будет хранить описание постов, ссылаться на записи с изображением(Image).
#### Image ####
Хранит изображение, которое использует пост. Возможно будет содержать атрибуты для поддержки системы фильтров.
#### Tag ####
Описывает метки прикрепленнные за постами. Каждая запись в сущности(метка) ссылается на соответсвующий пост.
#### Comment ####
Создана для возможности комментирования постов. Хранит текст комментария, его автора(ссылка на User), пост, к которому он закреплен(ссылка на него).
#### Like ####
Хранит информацию о лайках(ссылка на пользователя, которой поставил лайк, и пост, на который он был поставлен).
#### Followers ####
Таблица определяющая подписчиков, хранит ссылку на подписываемого.
#### FollowRequest ####
Таблица хранящая запросы на подписку. Содержит ссылку на пользователя, который хочет подписаться, на пользователя, на которого подписываются.
## 2.Сформировать максимально полный перечень возможных запросов к базе данных на основе анализа предметной области. ##
* Найти все посты определенного пользователя
* Найти изображение к посту
* Определить количество лайков поста
* Найти все комментарии поста
* Найти всех пользователей, оставивших лайк
* Найти пользователей по фильтрам
* Найти всех подписчиков пользователя
* Найти всех пользователей, запрашивающих подписку
* Найти теги поста
* Найти пост по тегам
## 3.Построить концептуальную модель в виде ER-диаграммы. ##
[ER-диаграмму можно наблюдать по ссылке](https://www.lucidchart.com/documents/edit/a497822e-0e76-44ac-bb2a-dbde83a2f4f0/0)
## 4. Представить концептуальную модель в терминах реляционной модели. ##
id(User), creation_datetime(User), edition_datetime(User), email, pswrd, id(Profile), creation_datetime(Profile), edition_datetime(profile), name, surname, id(Post), description, creation_datetime(Post), edition_datetime(Post), id(Comment), user_id(Comment), post_id(Comment), creation_datetime(Comment), edition_datetime(Comment), text(Comment), id(Like), user_id(Like), creation_datetime(Like), edition_datetime(Like), post_id(Like), id(Tag), text(Tag), post_id(Tag), creation_datetime(Tag), edition_datetime(Tag), id(Image), source, creation_datetime(Image), edition_datetime(Image), id(Follower), follower_user_id(Follower), creation_datetime(Follower), edition_datetime(Follower), id(FollowRequest), follower_user_id(FollowRequest), creation_datetime(FollowRequest), edition_datetime(FollowRequest),
## 5. Описать домены (допустимые множества значений, которые могут принимать атрибуты), указывая типы соответствующих данных и их характеристики. ##
все id-включающие атрибуты сущностей принимают целочисленные значения в диапазоне 1 .. 2147483647
name, surname принимают символьные значения, максимальная длина 30 символов
атрибут text сущности Tag принимает символьные значения, максимальная длина 20 символов
атрибут text сущности Comment принимает символьные значения любой длины
атрибут is_reversed принимает 2 значения: истина или ложь
email специальный тип принимающий только записи соответствующие стандарту email
pswrd специальный тип для паролей
description принимает символьные значения любой длины
source специальный тип для хранения двоичных данных
## 6.Определить ключи и внешние ключи (если они есть). ##
В каждом отношении **ПК** является атрибут id.    
post_id - внешний ключ для отношений Tag, Like, Comment, Image с Post    
user_id - внешний ключ для отношений Post, Profile, Comment c User    
follower_user_id - внешние ключи Followers с User    
follower_user_id - внешний ключ FollowerRequest с User
## 7. Выписать функциональные зависимости (рассматривая возможные значения полей таблицы). ##
Нет функциональных зависимостей.
## 8. Привести полученную концептуальную модель к третьей нормальной форме (показать, что она находится в соответствующей нормальной форме). ##
Концептуальная модель находится в **1 НФ**, т.к. атрибуты всех отношений являются простыми, все используемые домены содержат только скалярные значения. Нет повторений строк в таблице.    
Концептуальная модель находится в **2 НФ**, т.к. находится в 1 НФ и каждый не ключевой атрибут любого отношения неприводимо зависит от Первичного Ключа(ПК).    
Концептуальная модель находится в **3 НФ**, т.к. находится в 2 НФ и каждый не ключевой атрибут любого отношения нетранзитивно зависит от первичного ключа.

